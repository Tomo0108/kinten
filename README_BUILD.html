<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kinten ビルドスクリプト</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #2c3e50;
            margin-top: 25px;
        }
        .script-section {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .script-link {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 10px 10px 0;
            transition: background-color 0.3s;
            font-weight: bold;
        }
        .script-link:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .script-link.danger {
            background-color: #e74c3c;
        }
        .script-link.danger:hover {
            background-color: #c0392b;
        }
        .script-link.success {
            background-color: #27ae60;
        }
        .script-link.success:hover {
            background-color: #229954;
        }
        .usage-steps {
            background-color: #e8f4fd;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
        }
        .output-info {
            background-color: #f0f8ff;
            border: 1px solid #b3d9ff;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .file-structure {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-line;
        }
        .troubleshooting {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 Kinten Build Scripts</h1>
        
        <p>This project includes batch files that can be easily executed with a click.</p>

        <h2>📋 Available Build Scripts</h2>

        <div class="script-section">
            <h3>1. Full Build</h3>
            <p>Build both backend and frontend at once</p>
            <p><strong>Recommended</strong>: For initial build or full updates</p>
            <a href="build_all.bat" class="script-link success">▶️ Execute build_all.bat</a>
        </div>

        <div class="script-section">
            <h3>2. Backend Only</h3>
            <p>Build Python backend only</p>
            <p>Uses PyInstaller to generate executable</p>
            <a href="build_backend.bat" class="script-link">▶️ Execute build_backend.bat</a>
        </div>

        <div class="script-section">
            <h3>3. Frontend Only</h3>
            <p>Build Flutter frontend only</p>
            <p>Generates Windows release build</p>
            <a href="build_frontend.bat" class="script-link">▶️ Execute build_frontend.bat</a>
        </div>

        <div class="script-section">
            <h3>4. Cleanup</h3>
            <p>Remove build files for cleanup</p>
            <p>Use for rebuilding when issues occur</p>
            <a href="clean_build.bat" class="script-link danger">🗑️ Execute clean_build.bat</a>
        </div>

        <div class="script-section">
            <h3>5. Create Distribution Package</h3>
            <p>Build backend and frontend to create distribution ZIP</p>
            <p>Works without Python/Flutter installation</p>
            <p>Includes template files in templates folder</p>
            <a href="create_distribution.bat" class="script-link success">📦 Execute create_distribution.bat</a>
        </div>

        <h2>📖 使用方法</h2>
        <div class="usage-steps">
            <ol>
                <li>上記のリンクをクリックしてバッチファイルを実行</li>
                <li>コマンドプロンプトが開き、ビルドが開始されます</li>
                <li>完了まで待機（進行状況が表示されます）</li>
                <li>完了後、任意のキーを押してウィンドウを閉じる</li>
            </ol>
        </div>

        <h2>📁 ビルド出力</h2>

        <div class="output-info">
            <h3>バックエンド</h3>
            <ul>
                <li><strong>実行ファイル</strong>: <code>dist\kinten_backend.exe</code></li>
                <li><strong>データフォルダ</strong>: <code>dist\templates</code>, <code>dist\input</code>, <code>dist\output</code></li>
                <li>テンプレートファイル、入力ファイル、出力ファイルが含まれます</li>
            </ul>
        </div>

        <div class="output-info">
            <h3>フロントエンド</h3>
            <ul>
                <li><strong>実行ファイル</strong>: <code>frontend\build\windows\runner\Release\kinten.exe</code></li>
            </ul>
        </div>

        <div class="output-info">
            <h3>配布用パッケージ</h3>
            <ul>
                <li><strong>ZIPファイル</strong>: <code>kinten.zip</code></li>
                <li><strong>内容</strong>: <code>kinten/</code> フォルダ内に実行ファイルとデータフォルダ</li>
                <li><strong>使用方法</strong>: ZIPを展開後、<code>start_kinten.bat</code> を実行</li>
            </ul>
        </div>

        <h2>⚠️ 注意事項</h2>
        <div class="warning">
            <ul>
                <li>初回実行時は依存関係のインストールに時間がかかる場合があります</li>
                <li>Flutter SDKがインストールされている必要があります</li>
                <li>Python仮想環境（venv）が設定されている必要があります</li>
                <li>ビルド時には <code>templates</code>、<code>input</code>、<code>output</code> フォルダが自動的に含まれます</li>
                <li>クリーンアップ時はデータフォルダは保護され、削除されません</li>
                <li>配布用パッケージには雛形ファイルが含まれ、Python/Flutter不要で動作します</li>
            </ul>
        </div>

        <h2>📦 配布用パッケージの使用方法</h2>

        <div class="script-section">
            <h3>配布パッケージの作成</h3>
            <ol>
                <li><a href="create_distribution.bat" class="script-link success">create_distribution.bat</a> を実行</li>
                <li><code>kinten.zip</code> ファイルが生成されます</li>
            </ol>
        </div>

        <div class="script-section">
            <h3>配布先での使用方法</h3>
            <ol>
                <li><code>kinten.zip</code> を任意の場所に展開</li>
                <li><code>kinten</code> フォルダ内の <code>start_kinten.bat</code> をダブルクリック</li>
                <li>または <code>kinten.exe</code> を直接実行</li>
            </ol>
        </div>

        <div class="script-section">
            <h3>配布パッケージの特徴</h3>
            <ul>
                <li>PythonやFlutterがインストールされていない環境でも動作</li>
                <li>必要なファイルがすべて含まれている</li>
                <li>templatesフォルダに雛形ファイルが含まれている</li>
                <li>input/outputフォルダは空の状態で配布</li>
            </ul>
        </div>

        <h2>🔧 トラブルシューティング</h2>

        <div class="troubleshooting">
            <h3>ビルドで問題が発生した場合：</h3>
            <ol>
                <li><a href="clean_build.bat" class="script-link danger">clean_build.bat</a> を実行してクリーンアップ</li>
                <li>再度 <a href="build_all.bat" class="script-link success">build_all.bat</a> を実行</li>
                <li>エラーメッセージを確認して必要な依存関係をインストール</li>
            </ol>
        </div>

        <div class="troubleshooting">
            <h3>配布パッケージで問題が発生した場合：</h3>
            <ol>
                <li>アンチウイルスソフトの除外設定を確認</li>
                <li>Windows Defenderの除外設定を確認</li>
                <li>管理者権限で実行を試行</li>
            </ol>
        </div>

        <div class="footer">
            <p><strong>作成日</strong>: 2025年1月27日</p>
            <p>Kinten ビルドスクリプト - 簡単ビルドシステム</p>
        </div>
    </div>
</body>
</html> 